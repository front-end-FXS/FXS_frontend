(function(){FXStreetWidgets.Widget.Base=function(n){var t={};return t.loaderBase=n,t.data=FXStreetWidgets.Widget.Base.prototype.data,t.interval=FXStreetWidgets.Widget.Base.prototype.interval,t.init=FXStreetWidgets.Widget.Base.prototype.init,t.setSettingsByObject=FXStreetWidgets.Widget.Base.prototype.setSettingsByObject,t.addEvents=FXStreetWidgets.Widget.Base.prototype.addEvents,t.setVars=FXStreetWidgets.Widget.Base.prototype.setVars,t.loadData=FXStreetWidgets.Widget.Base.prototype.loadData,t.loadDataFromUrl=FXStreetWidgets.Widget.Base.prototype.loadDataFromUrl,t.renderHtml=FXStreetWidgets.Widget.Base.prototype.renderHtml,t};FXStreetWidgets.Widget.Base.prototype.loaderBase=null;FXStreetWidgets.Widget.Base.prototype.data=null;FXStreetWidgets.Widget.Base.prototype.interval=null;FXStreetWidgets.Widget.Base.prototype.init=function(n){this.setSettingsByObject(n)};FXStreetWidgets.Widget.Base.prototype.setSettingsByObject=function(n){for(var t in n)n.hasOwnProperty(t)&&this[t]!==undefined&&(this[t]=n[t])};FXStreetWidgets.Widget.Base.prototype.addEvents=function(){};FXStreetWidgets.Widget.Base.prototype.setVars=function(){};FXStreetWidgets.Widget.Base.prototype.loadData=function(n){this.loadDataFromUrl(this.loaderBase.config.EndPoint,n)};FXStreetWidgets.Widget.Base.prototype.loadDataFromUrl=function(n,t){var i=this;FXStreetWidgets.Util.ajaxJsonGetter(n,t).done(function(n){i.data=n;i.loaderBase.isReady()?i.renderHtml():i.interval=setInterval(function(){i.loaderBase.isReady()&&(clearInterval(i.interval),i.renderHtml())},i.intervalTimeToWaitForReady)})};FXStreetWidgets.Widget.Base.prototype.renderHtml=function(){}})(),function(n){FXStreetWidgets.Widget.LoaderBase=function(t){var i={};return i.options=t,i.config=FXStreetWidgets.Widget.LoaderBase.prototype.config,i.isReady=FXStreetWidgets.Widget.LoaderBase.prototype.isReady,i.initWidgets=FXStreetWidgets.Widget.LoaderBase.prototype.initWidgets,i.mustachesCount=0,i.mustachesLoadedCount=0,i.translationsLoaded=!1,i.cssLoaded=!1,i.init=function(){if(!FXStreetWidgets.Util.isValid(i.options)||!FXStreetWidgets.Util.isValid(i.options.WidgetName)||!i.options.WidgetName.trim()){console.log("unable to load fxswidget options bad configure.");return}i.initConfiguration();i.loadUtils();i.initWidgets()},i.initConfiguration=function(){var u=n("div[fxs_widget][fxs_name='"+i.options.WidgetName+"']").first(),r=u.attr("fxs_host"),t,f;r=FXStreetWidgets.Util.isUndefined(r)?i.options.DefaultHost:r;t=u.attr("fxs_version")||i.options.DefaultVersion;t=FXStreetWidgets.Util.isUndefined(t)?"":t+"/";f=FXStreetWidgets.Util.isValid(i.options.Css)?FXStreetWidgets.Configuration.getCssUrl(i.options.Css+".min.css",i.options.Css):FXStreetWidgets.Configuration.getCssUrl(i.options.WidgetName+".min.css",i.options.WidgetName);i.config={WidgetName:i.options.WidgetName,Culture:FXStreetWidgets.Configuration.getCulture(),EndPoint:r+t+FXStreetWidgets.Configuration.getCulture()+"/"+i.options.EndPoint,EndPointTranslation:r+t+FXStreetWidgets.Configuration.getCulture()+"/"+i.options.EndPointTranslation,DefaultHost:i.options.DefaultHost,Css:f,Mustaches:i.options.Mustaches,Translations:{}}},i.loadUtils=function(){FXStreetWidgets.Util.ajaxJsonGetter(i.config.EndPointTranslation).done(function(n){i.translationsLoaded=!0;i.config.Translations=n.Values});FXStreetWidgets.Util.loadCssAsync(i.config.Css,function(){i.cssLoaded=!0});n.each(i.config.Mustaches,function(n){i.mustachesCount++;var t=FXStreetWidgets.Configuration.getMustacheUrl(n+".html",i.options.WidgetName);FXStreetWidgets.Util.loadHtmlTemplate(t).done(function(t){i.config.Mustaches[n]=t;i.mustachesLoadedCount++})})},i};FXStreetWidgets.Widget.LoaderBase.prototype.config={};FXStreetWidgets.Widget.LoaderBase.prototype.initWidgets=function(){};FXStreetWidgets.Widget.LoaderBase.prototype.isReady=function(){return this.translationsLoaded===!0&&this.cssLoaded===!0&&this.mustachesLoadedCount===this.mustachesCount}}(FXStreetWidgets.$),function(n){FXStreetWidgets.Widget.TechnicalsBase=function(t){var r=FXStreetWidgets.Widget.Base(t),i=FXStreetWidgets.Util.extendObject(r);return i.Container=null,i.Pair="",i.WidgetId=null,i.Seo=!1,i.MustacheKey="",i.TrendCssClasess={StronglyBearish:"fxs_txt_danger",Bearish:"fxs_txt_danger",Neutral:"fxs_txt_neutral",Bullish:"fxs_txt_success",SlightlyBullish:"fxs_txt_success"},i.ObOsCssClasess={Oversold:"fxs_txt_warning",Neutral:"fxs_txt_neutral",Overbought:"fxs_txt_warning"},i.VolatilityCssClasess={Expanding:"fxs_txt_neutral",High:"fxs_txt_warning",Low:"fxs_txt_warning",Shrinking:"fxs_txt_neutral"},i.init=function(n){i.setSettingsByObject(n);i.loadDataFromUrl(i.loaderBase.config.EndPoint+"/"+i.Pair)},i.renderHtml=function(){var t=i.data.Values,r,u;n.each(t,function(n,t){t.TrendClass=i.TrendCssClasess[t.Trend];t.ObOsClass=i.ObOsCssClasess[t.ObOs];t.VolatilityClass=i.VolatilityCssClasess[t.Volatility];t.TypeDisplay=i.loaderBase.config.Translations[t.Type];t.TrendDisplay=i.loaderBase.config.Translations[t.Trend];t.ObOsDisplay=i.loaderBase.config.Translations[t.ObOs];t.VolatilityDisplay=i.loaderBase.config.Translations[t.Volatility]});r={Studies:t,Translations:i.loaderBase.config.Translations,PairName:i.Pair,Seo:i.Seo};u=FXStreetWidgets.Util.renderByHtmlTemplate(i.loaderBase.config.Mustaches[i.MustacheKey],r);i.Container.html(u);i.manageRenderedHtml()},i.manageRenderedHtml=function(){i.setToolTip()},i.setToolTip=function(){i.Container.find('[data-toggle="tooltip"]').tooltip()},i}}(FXStreetWidgets.$),function(){FXStreetWidgets.Widget.Technicals=function(n){var t=FXStreetWidgets.Widget.TechnicalsBase(n),i=FXStreetWidgets.Util.extendObject(t);return t.MustacheKey=i.loaderBase.config.WidgetName,i}}(FXStreetWidgets.$),function(){FXStreetWidgets.Widget.TechnicalsMini=function(n){var i=FXStreetWidgets.Widget.TechnicalsBase(n),t=FXStreetWidgets.Util.extendObject(i);return i.MustacheKey="technicalsmini",i.manageRenderedHtml=function(){t.setFirstTabActive();i.setToolTip()},t.setFirstTabActive=function(){t.Container.find(".fxs_tabs_nav li").first().addClass("active");t.Container.find('div[role="tabpanel"]').first().addClass("fade in active")},t}}(),function(n){FXStreetWidgets.Widget.LoaderTechnicals=function(){var i=FXStreetWidgets.Widget.LoaderBase({WidgetName:"technicals",EndPoint:"technicals/getstudy",EndPointTranslation:"technicals/getlocalization",DefaultHost:"http://technicals.api.fxstreet.com/",Mustaches:{technicals:"",technicalsmini:""}}),t=FXStreetWidgets.Util.extendObject(i);return i.initWidgets=function(){var i=n("div[fxs_widget][fxs_name='"+t.config.WidgetName+"']");n.each(i,function(i,r){var u=n(r),o=u.attr("fxs_type"),f={Container:u,Pair:u.attr("fxs_pair"),WidgetId:i,Seo:FXStreetWidgets.Util.isUndefined(u.attr("fxs_seo"))?!1:!0},e;FXStreetWidgets.Util.isUndefined(f.Pair)||f.Pair.length!==6?console.log("fxserror unable to create "+t.config.WidgetName+", pair not valid: "+f.Pair):(e=o==="mini"?FXStreetWidgets.Widget.TechnicalsMini(t):new FXStreetWidgets.Widget.Technicals(t),e.init(f))})},t},function(){var n=new FXStreetWidgets.Widget.LoaderTechnicals;n.init()}()}(FXStreetWidgets.$);
//# sourceMappingURL=technicals.min.js.map
